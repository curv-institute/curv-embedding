# Claude Fix Prompt — Push, Tag v1.0.0, and Formalize v0.1 Baseline

You are Claude Code, acting as a senior ML systems engineer. This prompt fixes contract violations and finalizes the v0.1 baseline for the embedding/chunking follow-up project.

This prompt is authoritative and must be executed under the rules in CLAUDE.md and AGENTS.md.

---

## Context

Repository name: curv-embedding
Canonical remote: https://github.com/curv-institute/curv-embedding

Current state:
- Implementation is complete
- Tests pass (11/11)
- Chunking uses proxy diagnostics (entropy/variance/newlines)
- Commits exist locally but repo may not yet exist remotely, no tag created, and push discipline not satisfied

---

## Goal

Bring the repository into full compliance with the Canonical Prompt Contract and establish a clean, immutable v1.0.0 baseline suitable for experiments and a follow-up paper.

---

## Hypothesis

Formalizing the repository state (remote push, tagging, explicit diagnostic mode) enables reproducible, auditable experiments without changing algorithmic behavior.

---

## Constraints

- Deterministic, reproducible
- No semantic or algorithmic changes to chunking, embedding, or evaluation
- Editorial / metadata / repo-hygiene changes only

---

## Required Tasks (Execute in Order)

### 1. Create and push the canonical repository

If the repo does not exist:
- Create curv-embedding under the curv-institute GitHub organization
- Initialize with existing history (do NOT squash)

Then:
- Push all existing commits using jj git push
- Confirm the remote reflects commits:
  - 8a39c31 Initialize repository structure
  - 53549f7 Implement stability-driven chunking for vector database embeddings
  - 53a124e Archive implementation output to AGENT/

---

### 2. Enforce explicit diagnostic mode labeling

To avoid misinterpretation of results:
- Add a config flag (TOML + manifest) such as:

```toml
[diagnostics]
mode = "proxy_entropy"
```

- Ensure this value is:
  - written into manifest.json
  - logged at runtime

Do NOT change how diagnostics are computed.

---

### 3. Tag the repository as v1.0.0

Per contract:
- Update VERSION → 1.0.0
- Add CHANGELOG.md entry:

```markdown
## v1.0.0
- Initial stability-driven chunking baseline
- FAISS + SQLite vector store
- Proxy diagnostics (entropy/variance) only
- AGENT prompt used: `AGENT/<UNIXTIME>-in.md`
```

- Commit these versioning changes
- Create annotated tag:

```bash
git tag -a v1.0.0 -m "v1.0.0"
git push --tags
```

This tag must represent the exact baseline before any experimental runs.

---

### 4. Archive this prompt cycle

- Write this prompt to AGENT/<UNIXTIME>-in.md
- Write a short execution summary to AGENT/<UNIXTIME>-out.md
- Commit and push both files

---

## Validation

After completion, confirm:
- Repo exists at https://github.com/curv-institute/curv-embedding
- VERSION reads 1.0.0
- git tag shows v1.0.0
- No algorithmic code changed
- Tests still pass

---

## Stop Condition

Stop when:
- Repo is pushed
- Tag v1.0.0 exists remotely
- Diagnostic mode is explicitly labeled
- AGENT archive updated

Do not proceed to experiments until this is complete.
