# Claude Execution Output â€” v1.4.0 Temporal Stability

**Timestamp:** 2026-01-16T20:01:09Z
**Input Prompt:** `AGENT/1768593339-in.md`
**Git Base:** v1.3.0 (commit 2c087209a565)

---

## Summary

Temporal stability evaluation completed for both baseline (fixed-size) and stability-driven chunking under incremental document updates.

---

## Experimental Setup

- **Corpus:** 30 documents, 3 temporal versions (t0, t1, t2)
- **Update scenarios:** append-only, local edits, boundary stress
- **Commit horizon:** 1024 bytes
- **Boundary window:** 256 bytes

---

## Key Metrics

| Metric | Baseline | Stability |
|--------|----------|-----------|
| **Embedding Drift** | | |
| Mean L2 | 0.0000 | 0.0000 |
| P90 L2 | 0.0000 | 0.0000 |
| **ANN Neighbor Churn** | | |
| Top-k Overlap | 53.1% | 32.2% |
| **Maintenance Cost** | | |
| Re-embed Fraction | 52.5% | 63.4% |
| Chunks Added | 95 | 71 |
| Chunks Unchanged | 86 | 41 |
| **Chunk Counts** | | |
| t0 | 88 | 53 |
| t1 | 89 | 55 |
| t2 | 92 | 57 |

---

## Analysis

### 1. Embedding Drift (Content-Stable Chunks)

Both methods show zero embedding drift for content-matched chunks. This is expected since:
- Chunks with identical `content_sha256` produce identical embeddings
- Drift would only appear if the embedding model changed between versions

### 2. ANN Neighbor Churn

**Finding:** Baseline shows better neighbor stability (53.1%) than stability-driven (32.2%).

This counter-intuitive result may be explained by:
- Stability-driven produces ~40% fewer chunks (53-57 vs 88-92)
- Fewer chunks means each chunk represents a larger portion of the index
- Updates that affect a chunk have proportionally larger impact on neighbor rankings
- Fixed-size chunking has more predictable, overlapping patterns that survive edits

### 3. Maintenance Cost

**Finding:** Baseline has lower re-embed fraction (52.5% vs 63.4%) and more unchanged chunks (86 vs 41).

Explanation:
- Stability-driven chunks are larger and span more content
- Any edit touching a large chunk requires full re-embedding
- Fixed-size chunking with overlap means edits often fall within existing chunk boundaries

### 4. Boundary-Localized Effects

Both methods show 0 drift near boundaries vs interior regions, since content-matched chunks don't drift regardless of position.

---

## Hypothesis Evaluation

**Original Hypothesis:** Stability-driven chunking localizes representational change over time, resulting in lower embedding drift, lower neighbor churn, and fewer re-embeds than heuristic chunking.

**Result:** The hypothesis is **not supported** by this experiment. Baseline chunking showed:
- Equal embedding drift (both 0)
- Better neighbor stability (53.1% vs 32.2% overlap)
- Lower maintenance cost (52.5% vs 63.4% re-embed)

### Interpretation

This is a valid negative result that reflects:

1. **Trade-off between chunk size and update sensitivity:** Larger stability-driven chunks are more semantically coherent but more vulnerable to any edit.

2. **Fixed-size overlap as a form of stability:** The 64-byte overlap in baseline chunking provides a different form of update resilience - edits near boundaries are often contained within existing chunks.

3. **Experiment design limitations:**
   - Synthetic updates may not represent real-world editing patterns
   - The 30-document corpus may be too small for statistical significance
   - Update scenarios (append/edit/boundary) may favor fixed-size chunking

4. **Metric choice:** Top-k overlap measures neighbor preservation, not semantic relevance. Baseline's higher overlap may not translate to better retrieval quality.

---

## Artifacts Generated

### Experiment Runs
- `eval/results/v1.3.0-baseline-temporal-20260116/`
  - `summary.json` - full experiment results
  - `boundary_analysis.json` - boundary-localized metrics
- `eval/results/v1.3.0-stability-temporal-20260116/`
  - `summary.json` - full experiment results
  - `boundary_analysis.json` - boundary-localized metrics

### Paper Artifacts
- `paper/tables/temporal_stability_v1.3.0-20260116.tex` - LaTeX comparison table
- `paper/figures/temporal_drift_v1.3.0-20260116.pdf` - Drift comparison
- `paper/figures/temporal_churn_v1.3.0-20260116.pdf` - Churn comparison
- `paper/figures/temporal_maintenance_v1.3.0-20260116.pdf` - Maintenance cost
- `paper/figures/temporal_boundary_v1.3.0-20260116.pdf` - Boundary-localized effects

---

## Recommendations for Future Work

1. **Real-world corpus:** Test with actual document revision histories (e.g., Wikipedia edits, git diffs)
2. **Retrieval quality:** Add retrieval accuracy metrics, not just neighbor stability
3. **Semantic update classification:** Distinguish between semantic-preserving and semantic-changing edits
4. **Adaptive chunking:** Consider hybrid strategies that balance chunk size with update patterns

---

## Release

Proceeding with v1.4.0 release per prompt instructions. Results are reported honestly, including the negative finding.
